# Lecture # 1 - Intro to Flask

## Lecture Topics

- How the Web Works
- Web Servers
- Creating a Flask Application
- Flask Routing and Views
- Flask Application Structure

## Key Vocab

- Web Server: a combination of software and hardware that uses Hypertext Transfer Protocol (HTTP) and other protocols to respond to requests made over the internet.
- Routing: Routing is the association of URLs and the code that should execute when a request comes in for that URL.
- Views: We call functions that map to URLs views. Everything you view in your application is generated by a view.

## Setup

1. Make sure that you are in the correct directory (folder) that contains a `Pipfile`, then enter the command `pipenv install` in your terminal to install the required packages.

2. Now that your `pipenv` virtual environment is ready to use, enter the command `pipenv shell` in your terminal to enter the virtual environment.

3. Enter the command `cd server` in your terminal to move into the server directory.

## Code Along

We will be writing our code in the `app.py` file in the `server` directory (folder):

1. Write the following code after line 1 in `app.py`:

```py
from flask import Flask
```

This will import the `Flask` class so that we can use it to create an instance of the `Flask` class to start our Flask application.

2. Write the following code on the next line in `app.py`:

```py
app = Flask(__name__)
```

This will create an instance of the `Flask` class so that we can use it to start our Flask application.

3. Write the following code on the next line in `app.py` which will create our first route and view:

```py
@app.route('/')
def index():
    return '<h1>Welcome to my website!</h1>'
```

The `index()` view will return a string containing code for a HTML header element that says "Welcome to my website!"

4. To run the application that we created in this lesson, we need to run three terminal commands inside of our `pipenv` virtual environment. We should ideally run these commands from the `server` directory where the `app.py` file is located. Enter the following commands in your terminal while inside of the `server` directory:

```
export FLASK_APP=app.py

export FLASK_RUN_PORT=7777

flask run
```

`export FLASK_APP=app.py` specifies that your Flask app is located in the `app.py` file within the current directory.

`export FLASK_RUN_PORT=7777` allows you to run your Flask app on port 7777.

`flask run` is a command run from the terminal that looks for the name of the Python module with our Flask application instance and runs the Flask app.

5. Navigate to `http://127.0.0.1:7777` and you should see a page that says "Welcome to my website!" We were able to create a basic webpage using a Flask route and view!

6. We can also run a development server through treating our application module as a script with the `app.run()` method. Write the following code in `app.py` after the code for the `index()` view function:

```py
if __name__ == "__main__":
    app.run(port=7777, debug=True)
```

7. Enter the following command in the terminal to run the script and you should see that we're running the same server as before, but with `Debug mode` set to `on`:

```
python app.py
```

8. If you want to set `Debug mode` to `on` when running the `flask run` command in the terminal, you can run the following command in the terminal, while inside of the `server` directory:

```
flask run --debug
```

This will allow the Flask app to detect changes to your code in `app.py` that would affect the Flask app (changes to the app's routes, views, etc) after saving those changes.